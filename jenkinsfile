pipeline {
    agent {
        label "SLAVE"
    }
    stages {
        stage('seeing compile code') {
            steps{
                sh '''
                mvn compile
                '''
            }
        }
        stage('package code') {
            steps {
                sh '''
                mvn package
                '''
            }
        }
        stage('seeing artifacts') {
            steps {
                sh '''
                cp target/*.jar users.jar
                zip -r users.zip users.jar *
                '''
            }
        }
        stage ('Uploading artifacts to nexus') {
            steps {
                sh '''
                curl -v -u admin:zelar123 --upload-file users.zip http://172.31.0.171:8081/repository/users/users.zip
                '''

            }
        }
    }
}